<div class="form-group mt-3">
  <label class="form-label" for="{{label}}">{{label | translate}} <span class="required-asterisk"
      *appMarkAsterisk='validator'> * </span></label>
  <ng-select [ngClass]="(controlDir?.control?.touched)
  ? !controlDir.control.valid ? 'is-invalid' : 'is-valid' : null"
    [ngClass]="(!!controlDir?.control?.value)  ? !controlDir.control.valid ? 'is-invalid' : 'is-valid' : null"
    class="flex-grow-1" [items]="city" bindLabel="name" [(ngModel)]="value"
    (input)="onChange($any($event.target).value)" (blur)="onTouched()" #input appPrefixFocusAndSelect
    (ngModelChange)="onValueChange($event)" bindValue="id" [(ngModel)]="selectedValue"
    placeholder="{{'Select '+ label | translate}}" #select addTagText="Create New" [addTag]="CreateNew">
  </ng-select>


  <span
    *ngIf="(!controlDir?.control?.valid && controlDir?.control?.touched) ||  (!controlDir?.control?.valid && !!controlDir?.control?.value)"
    class='help-block validation-message'>{{label}} is required</span>




</div>

<ng-template #addMisc>
  <div class="modal-header modal-xl panel-hdr bg-primary-600 bg-info-gradient">
    <h4 class="modal-title pull-left">{{ "Add New " + label}}</h4>
    <button type="button" class="btn-close close pull-right" aria-label="Close" (click)="closeModal()">
      <span aria-hidden="true" class="visually-hidden">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <app-add-new-city [stateId]="stateId" [stateName]="stateName" (cityAdd)="citySave($event)" [newName]="selectedText">
    </app-add-new-city>

  </div>

  <div class="modal-footer justify-content-between">
    <button type="submit" (click)="closeModal()" class="btn btn-success ml-auto waves-themed">
      Close
    </button>
  </div>
</ng-template>