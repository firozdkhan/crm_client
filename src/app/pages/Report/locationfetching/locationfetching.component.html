<div class="row">
  <div class="col-xl-12">
    <div id="panel-1" class="panel">
      <app-entry-panel-header [title]="'Location'"></app-entry-panel-header>
      <div class="panel-container show">
        <div class="panel-content">
          <form [formGroup]="staffLocationForm" (ngSubmit)="onSubmit()">
            <div class="row">

              <!-- Staff Dropdown -->
              <div class="col-md-3">
                <app-employee-dropdown
                  formControlName="staffId" [label]="'Employee Name'">   </app-employee-dropdown>
              </div>

              <!-- From Date -->
              <div class="col-md-3">
               <app-date-picker formControlName="fromDate" [label]="'From Date'"></app-date-picker>
              </div>

              <!-- To Date -->
              <div class="col-md-3">
               <app-date-picker formControlName="toDate" [label]="'To Date'"></app-date-picker>
              </div>

              <!-- Buttons -->
              <div class="col-md-3 d-flex align-items-center mt-4 justify-content-around">
                <button type="submit"      class="btn btn-primary waves-themed me-2"  [disabled]="!staffLocationForm.valid">
                  {{ "Show" | translate }}
                </button>
                <button type="reset" class="btn btn-default waves-themed" (click)="reset()">
                  {{ "Reset" | translate }}
                </button>
              </div>

            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-12">
    <div id="panel-1" class="panel">
      <div class="panel-hdr bg-primary-600 bg-info-gradient">
        <h2>
          {{"Location List" | translate}} <span class="fw-300"><i></i></span>
        </h2>
      </div>
      <div class="panel-container show">
        <div class="panel-content">
          <commongrid *ngIf="stafflocations.length > 0" [totalitems]="totalRecords" [records]="stafflocations"
            [gridfilter]="gridFilter" [SearchText]="txtSearch" [pagesize]="10" (change)="pageChanged($event)"
            [ShowSorting]="true" [PagingType]="'nextprevnumberadvanced'" [ShowPagesize]="true" [ShowFilter]="false" [ShowCheckbox] = "true"
            [ShowSNo]="true" (ActionRow)="actionRow($event)" >
          </commongrid>

          <app-no-data-found *ngIf="stafflocations?.length == 0">
          </app-no-data-found>


        </div>
      </div>
    </div>
  </div>
</div>
<button class="btn btn-primary" (click)="showSelectedOnMap()">Show on Map</button>



<div class="modal fade" id="locationMapModal" tabindex="-1" aria-labelledby="locationMapLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title" id="locationMapLabel">Staff Location</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"   (click)="closeModal()">X</button>
      </div>
      <div class="modal-body" style="height: 700px;">
        <div id="staffLocationMap" style="width: 100%; height: 100%;"></div>
      </div>
    </div>
  </div>
</div>




